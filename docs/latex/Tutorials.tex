\hypertarget{Tutorials_autotoc_md11}{}\doxysubsection{Overview}\label{Tutorials_autotoc_md11}
This repository contains the E\+C\+I\+QC tool developed between S\+A\+BS\+:R3, University of Oxford and GE Healthcare. The primary purpose of the tool is to automatically vaildate the D\+I\+C\+OM images using for medical research.

The project is under active development.

This project has made use of the Oxford R\+SE C++ template.\hypertarget{Tutorials_autotoc_md12}{}\doxysubsection{Installation}\label{Tutorials_autotoc_md12}
\hypertarget{Tutorials_autotoc_md13}{}\doxysubsubsection{Where does it run?}\label{Tutorials_autotoc_md13}
We expect this project to be usable on all modern systems It is regularly tested on the following operating systems\+:


\begin{DoxyItemize}
\item Linux\+: Ubuntu 14.\+04
\end{DoxyItemize}

and with the following C++ compilers/toolchains\+:


\begin{DoxyItemize}
\item G\+CC 5.\+x, 6.\+x, 7.\+x
\item Clang 4.\+x, 5.\+x
\end{DoxyItemize}\hypertarget{Tutorials_autotoc_md14}{}\doxysubsubsection{First run}\label{Tutorials_autotoc_md14}
\hypertarget{Tutorials_autotoc_md15}{}\doxyparagraph{Linux}\label{Tutorials_autotoc_md15}

\begin{DoxyItemize}
\item Download E\+C\+I\+QC github repository
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/Extensible-\/Clinical-\/Imaging-\/QC-\/Tool/ECIQC.git}
\DoxyCodeLine{cd ECIQC/}
\end{DoxyCode}



\begin{DoxyItemize}
\item Install \href{https://cmake.org/download/}{\texttt{ C\+Make}} and a C++ compiler and other dependencies. This can be done using the install\+\_\+dependencies file found in /scripts.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{./scripts/install\_dependencies.sh}
\end{DoxyCode}



\begin{DoxyItemize}
\item Make a build directory and configure the project. E.\+g. Assuming you are in a directory containing the source code\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\end{DoxyCode}



\begin{DoxyItemize}
\item Compile the project
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{make}
\end{DoxyCode}



\begin{DoxyItemize}
\item Run all the tests using C\+Test (this is bundled with C\+Make)
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{ctest -\/-\/output-\/on-\/failure}
\end{DoxyCode}
\hypertarget{Tutorials_autotoc_md16}{}\doxyparagraph{Mac OS}\label{Tutorials_autotoc_md16}

\begin{DoxyItemize}
\item Download E\+C\+I\+QC github repository
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{git clone https://github.com/Extensible-\/Clinical-\/Imaging-\/QC-\/Tool/ECIQC.git}
\DoxyCodeLine{cd ECIQC/}
\end{DoxyCode}



\begin{DoxyItemize}
\item Install \href{https://cmake.org/download/}{\texttt{ C\+Make}} and a C++ compiler and other dependencies. This can be done using the install\+\_\+dependencies file found in /scripts.
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{brew install dcmtk boost cmake opencv tesseract}
\end{DoxyCode}



\begin{DoxyItemize}
\item Make a build directory and configure the project. E.\+g. Assuming you are in a directory containing the source code\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir build}
\DoxyCodeLine{cd build}
\DoxyCodeLine{cmake ..}
\end{DoxyCode}



\begin{DoxyItemize}
\item Compile the project
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{make}
\end{DoxyCode}



\begin{DoxyItemize}
\item Run all the tests using C\+Test (this is bundled with C\+Make)
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{ctest -\/-\/output-\/on-\/failure}
\end{DoxyCode}
\hypertarget{Tutorials_autotoc_md17}{}\doxysubsection{Command Line Interface (\+C\+L\+I) Tool}\label{Tutorials_autotoc_md17}

\begin{DoxyItemize}
\item An interface containing a simple application to receive and send D\+I\+C\+OM images. To use the C\+LI, run the code from the source directory\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{./build/exe/qctool}
\end{DoxyCode}



\begin{DoxyItemize}
\item To configure sender and receiver parameters, run the code\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{./build/exe/qctool -\/-\/help}
\end{DoxyCode}
\hypertarget{Tutorials_autotoc_md18}{}\doxysubsection{How to test on your own machine (\+Update 18th May 2023)}\label{Tutorials_autotoc_md18}
After you\textquotesingle{}ve cloned the package and installed it properly, we provide two alternatives to test whether it works on your own machine.\hypertarget{Tutorials_autotoc_md19}{}\doxysubsubsection{Choice1\+: Using python script to test with the local senders and receivers.}\label{Tutorials_autotoc_md19}
There\textquotesingle{}s a python script \href{pipelinetest_main.py}{\texttt{ pipelinetest.\+py}} as a simple test tool. To run this script properly, you need to install two packages \href{https://pydicom.github.io}{\texttt{ pydicom$>$=2.\+3.\+1}} and \href{https://pydicom.github.io/pynetdicom/stable/}{\texttt{ pynetdicom$>$=2.\+0.\+2}}. For example, if you\textquotesingle{}re using a linux system, you can create a virtual environment {\bfseries{in the root directory}} and then install these two packages.


\begin{DoxyCode}{0}
\DoxyCodeLine{python -\/m venv venv}
\DoxyCodeLine{source ./venv/bin/activate}
\DoxyCodeLine{pip install pydicom}
\DoxyCodeLine{pip install pynetdicom}
\end{DoxyCode}


Make sure that {\ttfamily python} command means {\ttfamily python3} if you are using a linux system (This is also a prerequisite when running the test script). Otherwise, add {\ttfamily python} as an alias by typing `alias python=\textquotesingle{}python3'\`{} in your command line.

Finally, you will be happy to run the test script by {\ttfamily python pipelinetest\+\_\+main.\+py} in the root directory. Remember to check the postprocessed files and logs in the ./result and ./result\+\_\+quarantine. Please also note that we\textquotesingle{}ve used the \href{schema/PipelineCase.json}{\texttt{ Pipeline\+Case.\+json}} as the configuration file.\hypertarget{Tutorials_autotoc_md20}{}\doxysubsubsection{Choice2\+: Using the executable file with more flexibility}\label{Tutorials_autotoc_md20}
If you need more flexible test (for example, use non-\/local sender and receiver, or use your own datasets), we recommend to use the executable file. Before spinning up the pipeline, you need to create a directory ./result to store the logging file, and set up the configuration file properly. Have a look at the \href{schema/PipelineCase.json}{\texttt{ Pipeline\+Case.\+json}} and modify the hostname and port number according to your own system.

Also, we\textquotesingle{}ve noticed that the sender and receiver need to agree on specific abstract syntaxes and transfer syntaxes. The syntaxes we\textquotesingle{}re supporting now are listed as follows. We\textquotesingle{}ll come back to the syntax issue in June and July.

C\+T\+Image\+Storage (1.\+2.\+840.\+10008.\+5.\+1.\+4.\+1.\+1.\+2)\+: Little\+Endian\+Explicit, Little\+Endian\+Implicit; M\+R\+Image\+Storage (1.\+2.\+840.\+10008.\+5.\+1.\+4.\+1.\+1.\+4)\+: Little\+Endian\+Explicit, Little\+Endian\+Implicit; Secondary\+Capture\+Image\+Storage (1.\+2.\+840.\+10008.\+5.\+1.\+4.\+1.\+1.\+7)\+: Little\+Endian\+Explicit, Little\+Endian\+Implicit; Digital\+X\+Ray\+Image\+Storage\+For\+Presentation (1.\+2.\+840.\+10008.\+5.\+1.\+4.\+1.\+1.\+1.\+1)\+: Little\+Endian\+Implicit; Ultrasound\+Multiframe\+Image\+Storage (1.\+2.\+840.\+10008.\+5.\+1.\+4.\+1.\+1.\+3.\+1)\+: J\+P\+E\+G\+Process1\+Transfer\+Syntax.

Once you\textquotesingle{}ve done all the preparation work, now type in {\ttfamily ./build/exe/qctool -\/-\/config-\/file Your\+Own\+Config.\+json} to start the pipeline. Also remember to start your remote/local sender and receiver.\hypertarget{Tutorials_autotoc_md21}{}\doxysubsection{Feedback and suggestions}\label{Tutorials_autotoc_md21}
If you have any feedback or suggestions about this project, please get in touch or open an issue. 